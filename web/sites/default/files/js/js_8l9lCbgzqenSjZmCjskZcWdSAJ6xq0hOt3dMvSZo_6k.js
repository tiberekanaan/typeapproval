/* @license GPL-2.0-or-later https://www.drupal.org/licensing/faq */
(function($,Drupal,once){'use strict';Drupal.behaviors.webformElementMore={attach(context){$(once('webform-element-more','.js-webform-element-more',context)).each(function(event){var $more=$(this);var $a=$more.find('a').first();var $content=$more.find('.webform-element-more--content');$a.attr({'aria-expanded':false,'aria-controls':$content.attr('id')});$a.parent().on('click',toggle).on('keydown',function(event){if(event.which===32||event.which===13)toggle(event);});function toggle(event){var expanded=($a.attr('aria-expanded')==='true');$a.attr('aria-expanded',!expanded);if(expanded){$more.removeClass('is-open');$content.slideUp();}else{$more.addClass('is-open');$content.slideDown();}event.preventDefault();}});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){'use strict';Drupal.behaviors.webformMultipleTableDrag={attach:function(context,settings){for(var base in settings.tableDrag)if(settings.tableDrag.hasOwnProperty(base))$(once('webform-multiple-table-drag','.js-form-type-webform-multiple #'+base,context)).each(function(){var $tableDrag=$(this);var $toggleWeight=$tableDrag.prev().prev('.tabledrag-toggle-weight-wrapper');if($toggleWeight.length){$toggleWeight.addClass('webform-multiple-tabledrag-toggle-weight');$tableDrag.after($toggleWeight);}});}};Drupal.behaviors.webformMultipleAdd={attach:function(context,settings){$(once('webform-multiple-add','.js-webform-multiple-add',context)).each(function(){var $submit=$(this).find('input[type="submit"], button');var $number=$(this).find('input[type="number"]');$number.keyup(function(event){if(event.which===13)$submit.trigger('mousedown');});});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){'use strict';Drupal.behaviors.webformOptionsAdmin={attach(context){$(once('webform-options-sync','.js-webform-options-sync',context)).each(function(){var name=this.name;var $value=$(this);var $text=$('input[name="'+name.replace(/\[value\]$/,'[text]')+'"]');$value.on('focus',function(){var sync=$value.val()===$text.val();$value.data('webform_options_sync',sync);if(sync)$text.prop('readonly',true).closest('.js-form-item, .js-form-wrapper').addClass('webform-readonly');});$value.on('blur',function(){if($value.data('webform_options_sync'))$text.prop('readonly',false).closest('.js-form-item, .js-form-wrapper').removeClass('webform-readonly');});$value.on('keyup',function(){if($value.data('webform_options_sync'))$text.val($value.val());});});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){'use strict';Drupal.behaviors.webformRoles={attach(context){$(once('webform-roles','.js-webform-roles-role[value="authenticated"]',context)).each(function(){var $authenticated=$(this);var $checkboxes=$authenticated.parents('.form-checkboxes').find('.js-webform-roles-role').filter(function(){return ($(this).val()!=='anonymous'&&$(this).val()!=='authenticated');});$authenticated.on('click',function(){if($authenticated.is(':checked'))$checkboxes.prop('checked',true).attr('disabled',true);else $checkboxes.prop('checked',false).removeAttr('disabled');});if($authenticated.is(':checked'))$checkboxes.prop('checked',true).attr('disabled',true);});}};})(jQuery,Drupal,once);;
(function($,Drupal,once){'use strict';Drupal.behaviors.webformSelectOptionsDisabled={attach(context){$(once('webform-select-options-disabled','select[data-webform-select-options-disabled]',context)).each(function(){var $select=$(this);var disabled=$select.attr('data-webform-select-options-disabled').split(/\s*,\s*/);$select.find('option').filter(function isDisabled(){return ($.inArray(this.value,disabled)!==-1);}).attr('disabled','disabled');});}};})(jQuery,Drupal,once);;
(function($,Drupal,drupalSettings,once){'use strict';Drupal.behaviors.webformElementStates={attach(context){$(once('webform-element-states-condition','.webform-states-table--condition',context)).each(function(){var $condition=$(this);var $selector=$condition.find('.webform-states-table--selector select');var $value=$condition.find('.webform-states-table--value input');var $trigger=$condition.find('.webform-states-table--trigger select');$value.autocomplete({minLength:0}).on('focus',function(){$value.autocomplete('search','');});$trigger.on('change',function(){$selector.trigger('change');});$selector.on('change',function(){var selector=$selector.val();var sourceKey=drupalSettings.webformElementStates.selectors[selector];var source=drupalSettings.webformElementStates.sources[sourceKey];var notPattern=($trigger.val().indexOf('pattern')===-1);if(source&&notPattern)$value.autocomplete('option','source',source).addClass('form-autocomplete');else $value.autocomplete('option','source',[]).removeClass('form-autocomplete');var off=/chrom(e|ium)/.test(window.navigator.userAgent.toLowerCase())?'chrome-off-'+Math.floor(Math.random()*100000000):'off';$value.attr('autocomplete',off);}).trigger('change');});var $state=$(context).find('.webform-states-table--state select');if($state.length){$(once('webform-element-states-state',$state)).on('change',toggleRequiredCheckbox);toggleRequiredCheckbox();}}};var requiredChecked=null;function toggleRequiredCheckbox(){var $input=$('input[name="properties[required]"]');if(!$input.length)return;var required=false;$('.webform-states-table--state select').each(function(){var value=$(this).val();if(value==='required'||value==='optional')required=true;});if(required){requiredChecked=$input.prop('checked');$input.attr('disabled',true);$input.prop('checked',true);}else{$input.attr('disabled',false);if(requiredChecked!==null){$input.prop('checked',requiredChecked);requiredChecked=null;}}$input.trigger('change');}})(jQuery,Drupal,drupalSettings,once);;
